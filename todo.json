{
  "project": {
    "key": "PII",
    "name": "PII Shield"
  },
  "tickets": [
    {
      "id": "PII-001",
      "epic": "Setup",
      "title": "Configure .gitignore",
      "description": "Analyze the tech stack and determine what artifacts should be ignored",
      "status": "done",
      "priority": "high",
      "story_points": 1,
      "acceptance_criteria": [
        "Python artifacts excluded (__pycache__, *.pyc)",
        "IDE files excluded (.vscode, .idea)",
        "Build artifacts excluded (dist, build)"
      ],
      "files": [".gitignore"]
    },
    {
      "id": "PII-002",
      "epic": "Setup",
      "title": "Create folder structure",
      "description": "Design folder layout based on the architecture in requirements.xml",
      "status": "done",
      "priority": "high",
      "story_points": 1,
      "acceptance_criteria": [
        "PEP 517 src layout created",
        "All module directories initialized"
      ],
      "files": ["src/pii_shield/__init__.py", "tests/__init__.py"]
    },
    {
      "id": "PII-003",
      "epic": "Setup",
      "title": "Configure pyproject.toml",
      "description": "Review tech stack and configure dependencies and tool settings",
      "status": "done",
      "priority": "high",
      "story_points": 2,
      "acceptance_criteria": [
        "All dependencies declared",
        "Ruff configured for linting",
        "Pytest configured"
      ],
      "files": ["pyproject.toml"]
    },
    {
      "id": "PII-004",
      "epic": "Setup",
      "title": "Setup pre-commit hooks",
      "description": "Configure code quality checks to run before commits",
      "status": "done",
      "priority": "medium",
      "story_points": 2,
      "acceptance_criteria": [
        "Ruff linting on pre-commit",
        "Ruff formatting on pre-commit",
        "Tests run on pre-push"
      ],
      "files": [".pre-commit-config.yaml"]
    },
    {
      "id": "PII-005",
      "epic": "Setup",
      "title": "Create justfile",
      "description": "Create command runner for common development workflows",
      "status": "done",
      "priority": "medium",
      "story_points": 2,
      "acceptance_criteria": [
        "Commands for test, lint, format",
        "Commands for Docker operations",
        "Commands for running services"
      ],
      "files": ["justfile"]
    },
    {
      "id": "PII-006",
      "epic": "Setup",
      "title": "Create Dockerfile",
      "description": "Design production container with multi-stage build",
      "status": "done",
      "priority": "high",
      "story_points": 3,
      "acceptance_criteria": [
        "Multi-stage build for small image size",
        "Non-root user for security",
        "spaCy German model pre-loaded"
      ],
      "files": ["Dockerfile", ".dockerignore"]
    },
    {
      "id": "PII-007",
      "epic": "Setup",
      "title": "Setup Docker Compose",
      "description": "Multi-container setup with separate images for API and UI",
      "status": "done",
      "priority": "medium",
      "story_points": 3,
      "acceptance_criteria": [
        "Separate Dockerfile for UI (microservices pattern)",
        "API and UI can communicate",
        "Health checks configured"
      ],
      "files": ["docker-compose.yml", "Dockerfile.ui"]
    },
    {
      "id": "PII-008",
      "epic": "Core",
      "title": "Core types and models",
      "description": "Define PIIType enum, PIIMatch dataclass, and DetectionResult",
      "status": "done",
      "priority": "high",
      "story_points": 3,
      "acceptance_criteria": [
        "PIIType enum covers all PII categories",
        "PIIMatch stores position, type, and confidence",
        "DetectionResult aggregates matches with metadata"
      ],
      "files": ["src/pii_shield/core/__init__.py", "src/pii_shield/core/types.py", "src/pii_shield/core/models.py"]
    },
    {
      "id": "PII-009",
      "epic": "Preprocessing",
      "title": "Text preprocessing",
      "description": "Base preprocessor interface and text normalizer for consistent detection",
      "status": "done",
      "priority": "medium",
      "story_points": 4,
      "acceptance_criteria": [
        "Abstract base class with process() method",
        "Whitespace normalized",
        "Unicode normalized (NFC)",
        "Unit tests pass"
      ],
      "files": [
        "src/pii_shield/preprocessing/__init__.py",
        "src/pii_shield/preprocessing/base.py",
        "src/pii_shield/preprocessing/normalizer.py",
        "tests/preprocessing/test_normalizer.py"
      ]
    },
    {
      "id": "PII-010",
      "epic": "Detectors",
      "title": "Detector base + Email detector",
      "description": "Design detector interface and implement email detection with RFC 5322 compliance",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "Abstract base class with detect() returning list of PIIMatch",
        "Confidence scores supported",
        "Standard emails detected",
        "Edge cases handled (plus addressing, subdomains)",
        "Low false positive rate",
        "Unit tests pass"
      ],
      "files": [
        "src/pii_shield/detectors/__init__.py",
        "src/pii_shield/detectors/base.py",
        "src/pii_shield/detectors/email.py",
        "tests/detectors/test_email.py"
      ]
    },
    {
      "id": "PII-011",
      "epic": "Strategies",
      "title": "Redaction strategy",
      "description": "Base strategy interface and redaction implementation",
      "status": "done",
      "priority": "high",
      "story_points": 4,
      "acceptance_criteria": [
        "Abstract base class with apply() method",
        "Replaces with [EMAIL], [PHONE], etc.",
        "Configurable placeholder format",
        "Unit tests pass"
      ],
      "files": [
        "src/pii_shield/strategies/__init__.py",
        "src/pii_shield/strategies/base.py",
        "src/pii_shield/strategies/redaction.py",
        "tests/strategies/test_redaction.py"
      ]
    },
    {
      "id": "PII-012",
      "epic": "Pipeline",
      "title": "Text processing pipeline",
      "description": "Orchestrate detectors and strategies for text processing with reporting",
      "status": "done",
      "priority": "high",
      "story_points": 8,
      "acceptance_criteria": [
        "Chains multiple detectors",
        "Applies selected strategy",
        "Character positions accurate after replacement",
        "Returns processed text + detection report",
        "Summary statistics and per-type breakdown",
        "Export report to JSON format",
        "Unit tests pass"
      ],
      "files": [
        "src/pii_shield/pipeline/__init__.py",
        "src/pii_shield/pipeline/processor.py",
        "src/pii_shield/pipeline/report.py",
        "tests/pipeline/test_processor.py",
        "tests/pipeline/test_report.py"
      ]
    },
    {
      "id": "PII-013",
      "epic": "API",
      "title": "FastAPI service",
      "description": "Complete REST API with models, routes, middleware, and application setup",
      "status": "done",
      "priority": "high",
      "story_points": 8,
      "acceptance_criteria": [
        "DetectRequest/DetectResponse Pydantic models",
        "POST /detect endpoint",
        "POST /anonymize endpoint",
        "GET /health endpoint",
        "Request logging and error handling",
        "CORS configured",
        "OpenAPI docs enabled",
        "Unit tests pass"
      ],
      "files": [
        "src/pii_shield/api/__init__.py",
        "src/pii_shield/api/models.py",
        "src/pii_shield/api/routes.py",
        "src/pii_shield/api/middleware.py",
        "src/pii_shield/api/main.py",
        "tests/api/test_routes.py"
      ]
    },
    {
      "id": "PII-014",
      "epic": "Detectors",
      "title": "Phone detector",
      "description": "Detect German phone number formats",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "German landline formats detected",
        "Mobile formats detected (+49, 0049, 0)",
        "International formats supported",
        "Unit tests pass"
      ],
      "files": ["src/pii_shield/detectors/phone.py", "tests/detectors/test_phone.py"]
    },
    {
      "id": "PII-015",
      "epic": "Detectors",
      "title": "IBAN detector",
      "description": "Detect and validate German IBAN numbers",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "German IBAN format detected (DE + 20 digits)",
        "Checksum validation (mod 97)",
        "Other EU IBANs supported",
        "Unit tests pass"
      ],
      "files": ["src/pii_shield/detectors/iban.py", "tests/detectors/test_iban.py"]
    },
    {
      "id": "PII-016",
      "epic": "Detectors",
      "title": "German ID (Personalausweis) detector",
      "description": "Detect German ID card numbers with check digit validation",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "Format: 9 chars alphanumeric (e.g., L01X00T471)",
        "Check digit algorithm implemented",
        "Unit tests pass"
      ],
      "files": ["src/pii_shield/detectors/german_id.py", "tests/detectors/test_german_id.py"]
    },
    {
      "id": "PII-017",
      "epic": "Detectors",
      "title": "Credit card detector",
      "description": "Detect credit card numbers with Luhn validation",
      "status": "done",
      "priority": "low",
      "story_points": 3,
      "acceptance_criteria": [
        "Major card types detected (Visa, MC, Amex)",
        "Luhn checksum validation",
        "Formatted and unformatted numbers"
      ],
      "files": ["src/pii_shield/detectors/credit_card.py", "tests/detectors/test_credit_card.py"]
    },
    {
      "id": "PII-018",
      "epic": "Detectors",
      "title": "IP address detector",
      "description": "Detect IPv4 and IPv6 addresses",
      "status": "done",
      "priority": "low",
      "story_points": 3,
      "acceptance_criteria": [
        "IPv4 addresses detected",
        "IPv6 addresses detected",
        "Private vs public distinguished"
      ],
      "files": ["src/pii_shield/detectors/ip.py", "tests/detectors/test_ip.py"]
    },
    {
      "id": "PII-019",
      "epic": "Strategies",
      "title": "Masking strategy",
      "description": "Partially mask PII while preserving format",
      "status": "done",
      "priority": "low",
      "story_points": 3,
      "acceptance_criteria": [
        "Email: j***@example.com",
        "Phone: +49 *** *** 1234",
        "Configurable mask character"
      ],
      "files": ["src/pii_shield/strategies/masking.py", "tests/strategies/test_masking.py"]
    },
    {
      "id": "PII-020",
      "epic": "Strategies",
      "title": "Hashing strategy",
      "description": "Pseudonymize PII with consistent hashing",
      "status": "done",
      "priority": "low",
      "story_points": 3,
      "acceptance_criteria": [
        "SHA-256 based hashing",
        "Optional salt for GDPR compliance",
        "Same input = same output (consistency)"
      ],
      "files": ["src/pii_shield/strategies/hashing.py", "tests/strategies/test_hashing.py"]
    },
    {
      "id": "PII-023",
      "epic": "ML",
      "title": "Presidio integration",
      "description": "Integrate Microsoft Presidio for NER-based detection",
      "status": "done",
      "priority": "medium",
      "story_points": 5,
      "acceptance_criteria": [
        "German language support via spaCy",
        "Name and address detection",
        "Confidence scores mapped"
      ],
      "files": ["src/pii_shield/detectors/presidio.py", "tests/detectors/test_presidio.py"]
    },
    {
      "id": "PII-027",
      "epic": "DevOps",
      "title": "GitHub Actions CI/CD",
      "description": "Setup CI/CD pipeline for automated testing and deployment",
      "status": "done",
      "priority": "medium",
      "story_points": 3,
      "acceptance_criteria": [
        "Lint on PR",
        "Tests on PR",
        "Docker build verification",
        "Auto-deploy to AWS on merge"
      ],
      "files": [".github/workflows/ci.yml", ".github/workflows/deploy.yml"]
    },
    {
      "id": "PII-036",
      "epic": "DevOps",
      "title": "GitHub OIDC for AWS",
      "description": "Configure GitHub OIDC identity provider for secure AWS deployments without long-lived credentials",
      "status": "wont_do",
      "priority": "medium",
      "story_points": 3,
      "note": "Skipped due to time constraint",
      "acceptance_criteria": [
        "GitHub OIDC provider configured in AWS IAM",
        "IAM role with trust policy for GitHub Actions",
        "No AWS access keys stored in GitHub secrets"
      ],
      "files": ["infrastructure/terraform/oidc.tf"]
    },
    {
      "id": "PII-028",
      "epic": "Demo",
      "title": "Streamlit demo with Human-in-the-Loop",
      "description": "Interactive 3-step workflow demo showcasing PII detection with human oversight",
      "status": "done",
      "priority": "high",
      "story_points": 13,
      "acceptance_criteria": [
        "3-step workflow: Analyze → Review → Result",
        "Human-in-the-loop verification for low-confidence detections",
        "Confidence threshold slider for auto-approve",
        "Before/after text comparison",
        "Plotly analytics dashboard (gauge, donut charts)",
        "PII explainability with annotated text and color-coded highlights",
        "Detection breakdown table with reasons",
        "Strategy selection (redaction, masking, hashing)",
        "API request/response panels for transparency"
      ],
      "files": ["demo/app.py", "demo/components.py", "demo/styles.py", "demo/sample_texts.py"]
    },
    {
      "id": "PII-030",
      "epic": "Demo",
      "title": "README documentation",
      "description": "Comprehensive README with quick start guide and project overview",
      "status": "done",
      "priority": "medium",
      "story_points": 3,
      "acceptance_criteria": [
        "Project overview and purpose",
        "Quick start guide (Docker + local)",
        "API endpoints documentation",
        "Usage examples"
      ],
      "files": ["README.md"]
    },
    {
      "id": "PII-032",
      "epic": "Demo",
      "title": "Architecture diagrams",
      "description": "Visual diagrams explaining the system architecture and data flow",
      "status": "backlog",
      "priority": "medium",
      "story_points": 3,
      "acceptance_criteria": [
        "Component diagram (detectors, strategies, pipeline)",
        "Data flow diagram (input → detection → anonymization)",
        "System architecture overview"
      ],
      "files": ["docs/architecture.md"]
    },
    {
      "id": "PII-033",
      "epic": "DevOps",
      "title": "AWS Terraform infrastructure",
      "description": "Infrastructure as Code for AWS cloud deployment using Terraform",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "AWS ECS Fargate cluster for container deployment",
        "ECR container registry setup",
        "Route 53 domain configuration",
        "VPC, subnets, and security groups",
        "Application Load Balancer with HTTPS",
        "Environment variables and secrets via AWS Secrets Manager"
      ],
      "files": ["terraform/main.tf", "terraform/variables.tf", "terraform/outputs.tf", "terraform/ecs.tf", "terraform/route53.tf"]
    },
    {
      "id": "PII-034",
      "epic": "DevOps",
      "title": "AWS App Runner deployment",
      "description": "Deploy API and UI containers to AWS App Runner",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "Docker images pushed to ECR",
        "App Runner services deployed",
        "Health checks configured",
        "Public endpoint available",
        "Auto-scaling configured"
      ],
      "files": []
    },
    {
      "id": "PII-035",
      "epic": "ML",
      "title": "LLM-Enhanced Detection",
      "description": "Integrate Claude API for context-aware PII validation on low-confidence detections",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "LLM API integration (Anthropic Claude)",
        "Context-aware PII validation for low-confidence matches",
        "Fallback to rule-based if LLM unavailable",
        "Demo in Streamlit UI with LLM toggle"
      ],
      "files": ["src/pii_shield/detectors/llm_validator.py", "tests/detectors/test_llm_validator.py"]
    },
    {
      "id": "PII-037",
      "epic": "ML",
      "title": "Performance Metrics Evaluation",
      "description": "Calculate and display performance metrics (accuracy, precision, recall, F1) for PII detection",
      "status": "done",
      "priority": "high",
      "story_points": 5,
      "acceptance_criteria": [
        "Create labeled test dataset with ground truth annotations",
        "Calculate precision (correct detections / total detections)",
        "Calculate recall (detected PII / actual PII)",
        "Calculate F1 score (harmonic mean of precision and recall)",
        "Compare metrics with and without LLM validation",
        "Display metrics in Streamlit demo or notebook"
      ],
      "files": ["demo/app.py", "demo/sample_texts.py"]
    }
  ]
}
